---
title: 算法第四版笔记
date: 2018-10-21
tags: algs4
categories: notes
---


## 基础编程模型




## 数据抽象
数据类型值一组**值**，和对这些值**操作**的集合。

Java 编程的基础是使用 `class` 构造**引用类型**的数据类型。

抽象数据类型（ADT）是一种对使用者**隐藏数据表示**对数据类型。



抽象数据类型在程序设计上支持封装非常重要，通常用来：
1. 适用于各种用途的 API 形式准确定义问题。
2. 用 API 实现描述算法和数据结构



将程序组织为独立的模块机制可以应用于所有 Java 类。
1. .java 文件与程序文件在同一目录下。
2. 或是在标准 Java 库中。
3. 或是通过 import 语句访问。
4. 或是通过 classpath 机制。



对象是能够承载数据类型值的实体。

对象的三大特性： 状态、标识、行为。

引用是访问对象的一种方式。



使用 new 关键字实例化一个对象，当调用 new 时：
1. 为新的对象分配内存空间。
2. 调用构造函数初始化对象中的值。
3. 返回该对象的一个引用。



实例方法的意义在于操作数据类型中的值。

引用类型赋值将会创建该引用的一个副本，被称为**别名**。

将对象作为参数传递给方法，是通过按值传递的方式，对象的值就是对象的引用。

在 Java 中所有非原始类型的值都是对象。

运用数据抽象的思想编写代码的方式称为面向对象编程。




### 抽象数据类型的实现
抽象数据类型通过 Java 类实现，包括实例变量、构造函数、实例方法、测试用例（main）以及静态方法。




#### 实例变量
通常使用 `private` 修饰符，对使用者隐藏抽象数据类型中的数据表示。
如果值在初始化之后不应该再被改变则使用 `final`。




#### 构造函数
构造函数用来初始化实例变量，类似静态方法，能直接访问实例变量且没有返回值。

构造函数与类名称相同，可以定义不同的签名重载。

至少要有一个构造函数来创建一个对象的标识。如果没有定义，类会隐式定义一个默认不接受任何参数并将所有实例变量初始化为默认值的构造函数。




#### 实例方法
实例方法都有一个返回值类型、一个签名、一个主体和一个返回语句。

**实例方法可以访问并操作实例变量。**




#### 作用域
Java 中的三种变量：参数变量、局部变量、实例变量。

参数变量的作用域是整个方法。

局部变量的作用是当前代码段中它定义之后的所有语句。

实例变量的作用域是**整个类**。



#### API、用例与实现

为了强调用例和实现的分离，通常会将**用例**独立成为一个含有**静态 `main` 方法**的类，并将数据类型定义中的 `mian` 方法预留一个**最小单元测试**用例。





###  数据类型的设计



#### 封装

面向对象编程的特征之一就是使用数据类型的实现**封装**数据。



#### 设计API

只为用例提供他们所需要的，仅此而已。



#### 算法与抽象数据类型

算法一般都是某个抽象数据类型的实例方法的实现。

每个 Java 程序都是一组静态方法或一种数据类型实现的集合。



#### 接口继承

接口为定义**对象之间的关系**提供了支持。

接口继承通过指定一个含有一组公共方法的**接口**，来为两个没有关系的类建立联系，这两个类必须实现这些方法。实现类继承的是接口。



#### 实现继承

定义一个新类来继承另一个类的所有实例方法和实例变量。



#### 封装类型

每种原始数据类型都有一个对应的封装类型，在需要的时候 Java 会自动的将原始数据类型转换为封装类型。



#### 等价性

对相同类型的两个引用变量进行等价性测试（a == b）时，检测的是他们的标识，即引用是否相同。

在定义自己的数据类型时，需要重载 `eauals` 方法。同时， 必须是一种等价性关系，具有：

- 自反性 `x.equals(x)` 为 `true`
- 对称性，当且仅当 `y.equals(x)`为 `true` 时，`x.equals(y)` 返回 `true`。
- 传递性，如果 `x.equals(y)` 和 `y.equals(z)` 均为 `true` 时， `x.equals(z)` 也将为 `true`。

另外，他接受一个 Object 为参数并满足一下性质：

- 一致性，当两个对象均为被修改时，反复调用 `x.equals(y)` 总是会返回相同的值。
- 非空性，`x.equals(y)` 总是返回 `false`。



#### 内存管理

由于程序可能会产生一个**无法被引用**的对象或者对象在**离开作用域**后，这样的对象被称为孤儿。

通过记录孤儿对象并将它们的内存释放到内存池中的动作叫做**内存回收**。



#### 不可变性

对象中的值在创建之后无法再被改变的叫做不可变数据类型，通过 `final` 修饰符来强制保证不可变性。

但是只能保证原始数据类型的实例变量的不可变性，而无法用于引用类型。

任何数据类型的设计都需要考虑到不可变性。



#### 契约式设计

一些在程序运行时检验程序状态的一些机制：

- 异常，用于不受控制的不可预见的错误。
- 断言，验证在代码中作出的一些假设。



#### 异常与错误

异常与错误均是程序运行中出现的破坏性事件。

一种编程实践“快速出错”提倡一旦出错就立刻抛出异常。



#### 断言

断言时一条需要在程序的某处确认为 `true` 的表达式。



### 背包队列和栈 TODO
