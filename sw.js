let version=1584945038;version=`${version}`;const preCacheing=["/css/style.css","/js/script.js","/css/post.css"],cacheFirst=["/analytics.js","/js/scrollToTop.js","/images/favicon.ico","/images/icon.png","/manifest.json","/client.js"],cacheList=preCacheing.concat(cacheFirst),saveToCache=(e,t)=>caches.open(version).then(s=>{s.put(e,t)}),onNotMatch=e=>fetch(e).then(t=>{if(isInCacheList(e.url)||isHtml(e.url)){const s=t.clone();saveToCache(e,s)}return t}).catch(e=>{console.error("[SW]",e)}),onFetch=e=>caches.match(e).then(t=>void 0!==t?(isHtml(e.url)&&onNotMatch(e),t):onNotMatch(e));function isHtml(e){return new URL(e).pathname.endsWith(".html")}function isInCacheList(e){return-1!==cacheList.indexOf(new URL(e).pathname)}this.addEventListener("install",e=>{e.waitUntil(caches.open(version).then(e=>e.addAll(preCacheing)))}),this.addEventListener("fetch",e=>{e.respondWith(onFetch(e.request))}),this.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.filter(e=>e!==version).map(e=>caches.delete(e)))))});